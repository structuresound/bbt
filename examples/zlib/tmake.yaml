---
git:
  repository: madler/zlib
  tag: v1.2.8
glob:
  sources: ["*.c"]
target>:
  flags:
    cpp:
      O: 3
      Wall: true
      Wwrite-strings: true
      Wpointer-arith: true
      Wconversion: true
      +ios:
        "fembed-bitcode": true
generate: ninja
configure>:
  replace:
    gzguts:
      matching:
        - "gzguts.h"
      inputs:
        unistd:
        - "\n\n#ifdef _LARGEFILE64_SOURCE"
        - "\n\n#include <unistd.h>\n#ifdef _LARGEFILE64_SOURCE"
build: ninja
path:
  install:
    headers:
      - from: ''
outputType: static
